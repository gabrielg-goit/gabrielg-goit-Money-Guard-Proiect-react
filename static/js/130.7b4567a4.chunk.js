"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[130],{3757:(e,a,t)=>{t.d(a,{EH:()=>s,Iu:()=>d,TO:()=>n,YX:()=>l,Yw:()=>r,bu:()=>c,tA:()=>o});const n=[{id:"c9d9e447-1b83-4238-8712-edc77b18b739",name:"Main expenses",type:"EXPENSE"},{id:"27eb4b75-9a42-4991-a802-4aefe21ac3ce",name:"Products",type:"EXPENSE"},{id:"3caa7ba0-79c0-40b9-ae1f-de1af1f6e386",name:"Car",type:"EXPENSE"},{id:"bbdd58b8-e804-4ab9-bf4f-695da5ef64f4",name:"Self care",type:"EXPENSE"},{id:"76cc875a-3b43-4eae-8fdb-f76633821a34",name:"Child care",type:"EXPENSE"},{id:"128673b5-2f9a-46ae-a428-ec48cf1effa1",name:"Household products",type:"EXPENSE"},{id:"1272fcc4-d59f-462d-ad33-a85a075e5581",name:"Education",type:"EXPENSE"},{id:"c143130f-7d1e-4011-90a4-54766d4e308e",name:"Leisure",type:"EXPENSE"},{id:"719626f1-9d23-4e99-84f5-289024e437a8",name:"Other expenses",type:"EXPENSE"},{id:"3acd0ecd-5295-4d54-8e7c-d3908f4d0402",name:"Entertainment",type:"EXPENSE"},{id:"063f1132-ba5d-42b4-951d-44011ca46262",name:"Income",type:"INCOME"}],s=e=>n.find((a=>a.name===e)).id,o=e=>n.find((a=>a.id===e)).name,r=e=>{const a=new Date(e).getFullYear(),t=new Date(e).getMonth()+1,n=new Date(e).getDate(),s=String(t).padStart(2,0);return`${String(n).padStart(2,0)}.${s}.${a}`},c=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=(new Date).getFullYear(),l=[i,i-1,i-2],d=e=>{switch(e){case"Main expenses":return"rgba(254, 208, 87, 1)";case"Products":return"rgba(255, 0, 255, 1)";case"Car":return"rgba(253, 148, 152, 1)";case"Self care":return"rgba(197, 186, 255, 1)";case"Child care":return"rgba(127, 255, 0, 1)";case"Household products":return"rgba(74, 86, 226, 1)";case"Education":return"rgba(0, 255, 255, 1)";case"Leisure":return"rgba(255, 119, 0, 1)";case"Other expenses":return"rgba(0, 173, 132, 1)";case"Entertainment":return"rgba(177, 15, 72, 1)";default:return"rgb(128, 128, 128)"}}},7130:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ie});var n=t(3216),s=t(5043);const o="ButtonAddTransactions_ButtonOpenModal__keHme";var r=t(140),c=t(579);const i=e=>{let{openAddModall:a}=e;return(0,c.jsx)("button",{className:o,type:"button",onClick:a,children:(0,c.jsx)("svg",{children:(0,c.jsx)("use",{href:`${r.A}#addBtn-icon`})})})},l={TransactionItem:"TransactionItem_TransactionItem__RE6Tt",row:"TransactionItem_row__JG4JI",deleteButton:"TransactionItem_deleteButton__ExfPy",editButton:"TransactionItem_editButton__1di87",editText:"TransactionItem_editText__znK7c",editIcon:"TransactionItem_editIcon__Q5FvC",fixData:"TransactionItem_fixData__rxreU",dynamicData:"TransactionItem_dynamicData__s1Sxa",forthRow:"TransactionItem_forthRow__FRnhR",sixthRow:"TransactionItem_sixthRow__HK0jD",incomeText:"TransactionItem_incomeText__U8eMa",expenseText:"TransactionItem_expenseText__JkPdK",incomeBorder:"TransactionItem_incomeBorder__3UKM7",expenseBorder:"TransactionItem_expenseBorder__MPdVW"};var d=t(3757),m=t(3003),u=t(7801);const _=e=>{let{transaction:a,openDeleteModal:t,openEditModal:n}=e;const{type:s,categoryId:o,comment:i,amount:_,transactionDate:x}=a,h=(0,m.wA)();let p="",j="";return"INCOME"===s?(p=l.incomeText,j=l.incomeBorder):"EXPENSE"===s&&(p=l.expenseText,j=l.expenseBorder),(0,c.jsxs)("li",{className:`${l.TransactionItem} ${j}`,children:[(0,c.jsxs)("div",{className:`${l.row} ${l.firstRow}`,children:[(0,c.jsx)("span",{className:l.fixData,children:"Date"}),(0,c.jsx)("span",{className:l.dynamicData,children:(0,d.Yw)(x)})]}),(0,c.jsxs)("div",{className:`${l.row} ${l.secondRow}`,children:[(0,c.jsx)("span",{className:l.fixData,children:"Type"}),(0,c.jsx)("span",{className:l.dynamicData,children:"INCOME"===s?"+":"-"})]}),(0,c.jsxs)("div",{className:`${l.row} ${l.thirdRow}`,children:[(0,c.jsx)("span",{className:l.fixData,children:"Category"}),(0,c.jsx)("span",{className:l.dynamicData,children:(0,d.tA)(o)})]}),(0,c.jsxs)("div",{className:`${l.row} ${l.forthRow}`,children:[(0,c.jsx)("span",{className:l.fixData,children:"Comment"}),(0,c.jsx)("span",{className:l.dynamicData,children:i})]}),(0,c.jsxs)("div",{className:`${l.row} ${l.fifthRow}`,children:[(0,c.jsx)("span",{className:l.fixData,children:"Sum"}),(0,c.jsx)("span",{className:`${l.dynamicData} ${p}`,children:"INCOME"===s?_:-1*_})]}),(0,c.jsxs)("div",{className:`${l.row} ${l.sixthRow}`,children:[(0,c.jsx)("button",{type:"button",className:l.deleteButton,onClick:()=>{t(),h((0,u.ww)(a.id))},children:"Delete"}),(0,c.jsxs)("button",{className:l.editButton,type:"button",onClick:()=>{n(),h((0,u.ZT)({...a}))},children:[(0,c.jsx)("svg",{className:l.editIcon,children:(0,c.jsx)("use",{href:`${r.A}#icon-edit`})}),(0,c.jsx)("span",{className:l.editText,children:"Edit"})]})]})]})},x="TransactionsList_TransactionList__NWyGw",h=e=>{let{data:a,openDeleteModal:t,openEditModal:n}=e;return(0,c.jsx)("ul",{className:x,children:a.map((e=>(0,c.jsx)(_,{transaction:e,openDeleteModal:t,openEditModal:n},e.id)))})},p={editIcon:"TransactionTableRow_editIcon__fwaXC",dataRow:"TransactionTableRow_dataRow__VqR76",incomeText:"TransactionTableRow_incomeText__UhPyD",expenseText:"TransactionTableRow_expenseText__VRC0k",editButton:"TransactionTableRow_editButton__9789z",deleteButton:"TransactionTableRow_deleteButton__oRtoZ",TransactionDateColumn:"TransactionTableRow_TransactionDateColumn__4pjo1",TransactionCommentColumn:"TransactionTableRow_TransactionCommentColumn__ACesq",TransactionDeleteColumn:"TransactionTableRow_TransactionDeleteColumn__EP-1e",TransactionEditColumn:"TransactionTableRow_TransactionEditColumn__pwzPe"},j=e=>{let{transaction:a,openDeleteModal:t,openEditModal:n}=e;const{type:s,categoryId:o,comment:i,amount:l,transactionDate:_}=a,x=(0,m.wA)();return(0,c.jsxs)("tr",{className:p.dataRow,children:[(0,c.jsx)("td",{className:p.TransactionDateColumn,children:(0,d.Yw)(_)}),(0,c.jsx)("td",{className:p.TransactionTypeColumn,children:"INCOME"===s?"+":"-"}),(0,c.jsx)("td",{className:p.TransactionCategoryColumn,children:(0,d.tA)(o)}),(0,c.jsx)("td",{className:p.TransactionCommentColumn,children:i}),(0,c.jsx)("td",{className:"INCOME"===s?p.incomeText:p.expenseText,children:"INCOME"===s?l:-1*l}),(0,c.jsx)("td",{className:p.TransactionEditColumn,children:(0,c.jsx)("button",{className:p.editButton,type:"button",onClick:()=>{n(),x((0,u.ZT)({...a}))},children:(0,c.jsx)("svg",{className:p.editIcon,children:(0,c.jsx)("use",{href:`${r.A}#icon-edit`})})})}),(0,c.jsx)("td",{className:p.TransactionDeleteColumn,children:(0,c.jsx)("button",{className:p.deleteButton,type:"button",onClick:()=>{t(),x((0,u.ww)(a.id))},children:"Delete"})})]})},T={TransactionTable:"TransactionsTable_TransactionTable__zDLed",table:"TransactionsTable_table__xu6ZB",tableHead:"TransactionsTable_tableHead__TQkmS",tableHeadRow:"TransactionsTable_tableHeadRow__8UgMz",dateColumn:"TransactionsTable_dateColumn__gX1HJ",deleteColumn:"TransactionsTable_deleteColumn__M4Yv5",commentColumn:"TransactionsTable_commentColumn__XOwlZ",sumColumn:"TransactionsTable_sumColumn__oVceQ"},b=e=>{let{data:a,openDeleteModal:t,openEditModal:n}=e;return(0,c.jsx)("div",{className:T.TransactionsTable,children:(0,c.jsxs)("table",{className:T.table,children:[(0,c.jsx)("thead",{className:T.tableHead,children:(0,c.jsxs)("tr",{className:T.tableHeadRow,children:[(0,c.jsx)("th",{className:T.dateColumn,children:"Date"}),(0,c.jsx)("th",{className:T.typeColumn,children:"Type"}),(0,c.jsx)("th",{className:T.categoryColumn,children:"Category"}),(0,c.jsx)("th",{className:T.commentColumn,children:"Comment"}),(0,c.jsx)("th",{className:T.sumColumn,children:"Sum"}),(0,c.jsx)("th",{className:T.editColumn}),(0,c.jsx)("th",{className:T.deleteColumn})]})}),(0,c.jsx)("tbody",{className:T.tableBody,children:a.map((e=>(0,c.jsx)(j,{transaction:e,openDeleteModal:t,openEditModal:n},e.id)))})]})})};var y=t(9657);const N="HomePage_HomePage__VnKTm",E="HomePage_noDataMessage__gvEeD";var w=t(1065),v=t(1341),C=t(7950);const g="ModalDeleteTransaction_deleteModal__Nm1OX",f="ModalDeleteTransaction_modalContent__-UEQC",D="ModalDeleteTransaction_buttonsWrapper__NdNeg";var M=t(7657),I=t(3767),F=t(1672);const A=e=>{let{closeModal:a}=e;const t=(0,m.wA)(),n=(0,m.d4)(w.Ef);(0,s.useEffect)((()=>{document.body.style.overflow="hidden";const e=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",e),()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",e)}}));const o=(0,y.Ub)({query:"(min-width: 768px)"});return(0,c.jsx)("div",{className:g,onClick:e=>{e.currentTarget===e.target&&a()},children:(0,c.jsxs)("div",{className:f,children:[o&&(0,c.jsx)(I.A,{variant:"formLogo"}),(0,c.jsx)("p",{children:"Are you sure you want to detete this transaction?"}),(0,c.jsxs)("div",{className:D,children:[(0,c.jsx)(M.A,{type:"button",text:"Delete",variant:"multiColorButtton",handlerFunction:()=>[t((0,v.ci)(n)).unwrap().then((()=>{a(),t((0,F.ug)())})).catch((e=>{console.log(e)}))]}),(0,c.jsx)(M.A,{type:"button",text:"cancel",variant:"whiteButtton",handlerFunction:()=>a()})]})]})})},$="ModalAddTransaction_addModal__IkC7u",S="AddTransactionForm_modalContent__qBIxL",R="AddTransactionForm_formTitle__r-hm1",k="AddTransactionForm_inputWrapper__R9Xvu",B="AddTransactionForm_inputField__W8siC",P="AddTransactionForm_date__GisUm",q="AddTransactionForm_icon__UIgh3",O="AddTransactionForm_buttonsWrapper__UuNdd",W="AddTransactionForm_switcheWrapper__0od7t",X="AddTransactionForm_income__OkPZl",Y="AddTransactionForm_expense__n6q+7",H="AddTransactionForm_closeButton__I1W2b",U="AddTransactionForm_category__i7RIc",L="AddTransactionForm_amount__o0Wsg",K="AddTransactionForm_comment__aMIOO";var V=t(3892),J=t(899),z=t(1899),Z=t.n(z),G=(t(5015),t(5772));const Q=e=>{let{closeModal:a}=e;const[t,n]=(0,s.useState)(!1);(0,s.useEffect)((()=>{}),[t]);const o=(0,y.Ub)({query:"(min-width: 768px)"}),i=(0,m.wA)(),[l,u]=(0,s.useState)(new Date),_=t?J.Ik({amount:J.Yj().required("Required* "),comment:J.Yj().required("Required*")}):J.Ik({amount:J.Yj().required("Required*"),comment:J.Yj().required("Required*"),category:J.Yj().required("Required*")});return(0,c.jsxs)("div",{className:S,children:[o&&(0,c.jsx)("button",{className:H,onClick:()=>a(),children:(0,c.jsx)("svg",{children:(0,c.jsx)("use",{href:`${r.A}#icon-close`})})}),(0,c.jsx)(V.l1,{initialValues:{amount:"",comment:""},validationSchema:_,onSubmit:(e,n)=>{let{setSubmitting:s,setStatus:o}=n;s(!0),i((0,v.yY)({transactionDate:l,type:t?"INCOME":"EXPENSE",categoryId:(0,d.EH)(e.category||"Income"),comment:e.comment,amount:t?e.amount:0-e.amount})).unwrap().then((()=>{a(),i((0,F.ug)())})).catch((e=>{o({success:!1,error:e}),s(!1)}))},children:e=>{let{isSubmitting:s}=e;return(0,c.jsxs)(V.lV,{children:[(0,c.jsx)("h2",{className:R,children:"Add transaction"}),(0,c.jsxs)("div",{className:W,children:[(0,c.jsx)("span",{className:`${t?X:null}`,children:"Income"}),(0,c.jsx)("input",{type:"checkbox",id:"switcherButton",onChange:()=>n(!t),checked:!t}),(0,c.jsx)("label",{htmlFor:"switcherButton"}),(0,c.jsx)("span",{className:`${t?null:Y}`,children:"Expense"})]}),(0,c.jsxs)("div",{className:k,children:[!t&&(0,c.jsxs)("div",{className:`${B} ${U}`,children:[(0,c.jsxs)(V.D0,{as:"select",name:"category",autoFocus:!0,required:!0,children:[(0,c.jsx)("option",{value:"",hidden:!0,children:"Select your category"}),d.TO.slice(0,-1).map((e=>(0,c.jsx)("option",{children:e.name},e.id)))]}),(0,c.jsx)(V.Kw,{name:"category",component:"p"})]}),(0,c.jsxs)("div",{className:`${B} ${L}`,children:[(0,c.jsx)(V.D0,{type:"number",name:"amount",min:"1",placeholder:"0.00"}),(0,c.jsx)(V.Kw,{name:"amount",component:"p"})]}),(0,c.jsxs)("div",{className:`${B} ${P}`,children:[(0,c.jsx)(Z(),{dateFormat:"dd.MM.yyyy",selected:l,onChange:e=>u(e),calendarStartDay:1}),(0,c.jsx)(G.wIk,{className:q})]}),(0,c.jsxs)("div",{className:`${B} ${K}`,children:[(0,c.jsx)(V.D0,{type:"text",name:"comment",placeholder:"Comment"}),(0,c.jsx)(V.Kw,{name:"comment",component:"p"})]})]}),(0,c.jsxs)("div",{className:O,children:[(0,c.jsx)(M.A,{type:"submit",text:"Add",variant:"multiColorButtton",isDisabled:s}),(0,c.jsx)(M.A,{type:"button",text:"cancel",variant:"whiteButtton",handlerFunction:()=>a()})]})]})}})]})},ee=e=>{let{closeModal:a}=e;(0,s.useEffect)((()=>{document.body.style.overflow="hidden";const e=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",e),()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",e)}}));return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:$,onClick:e=>{e.target===e.currentTarget&&a()},children:(0,c.jsx)(Q,{closeModal:a})})})},ae="ModalEditTransaction_editModal__E6+uZ",te={modalContent:"EditTransactionForm_modalContent__l56AA",formTitle:"EditTransactionForm_formTitle__5nb4x",inputWrapper:"EditTransactionForm_inputWrapper__Ce0f7",inputField:"EditTransactionForm_inputField__MwrYU",category:"EditTransactionForm_category__CbJcd",date:"EditTransactionForm_date__qWumk",icon:"EditTransactionForm_icon__HdHVD",buttonsWrapper:"EditTransactionForm_buttonsWrapper__om91j",switcheWrapper:"EditTransactionForm_switcheWrapper__YhjCP",income:"EditTransactionForm_income__5YDDy",expense:"EditTransactionForm_expense__XO1iM",closeButton:"EditTransactionForm_closeButton__u+1zt",amount:"EditTransactionForm_amount__lu+WW",comment:"EditTransactionForm_comment__0EG8g"},ne=e=>{let{closeModal:a}=e;const t=(0,m.d4)(w.Tm),{id:n,type:o,amount:i,comment:l,transactionDate:u,categoryId:_}=t,[x,h]=(0,s.useState)(new Date(u));console.log(x);const p="INCOME"===o,j=(0,y.Ub)({query:"(min-width: 768px)"}),T=(0,m.wA)(),b={amount:"INCOME"===o?i:-1*i,comment:l},N=J.Ik({amount:J.Yj().required("Required*"),comment:J.Yj().required("Required*")});return(0,c.jsxs)("div",{className:te.modalContent,children:[j&&(0,c.jsx)("button",{className:te.closeButton,onClick:()=>a(),children:(0,c.jsx)("svg",{children:(0,c.jsx)("use",{href:`${r.A}#icon-close`})})}),(0,c.jsx)(V.l1,{initialValues:b,validationSchema:N,onSubmit:(e,t)=>{let{setSubmitting:s,setStatus:o}=t;s(!0),T((0,v.dk)({transactionId:n,transactionData:{transactionDate:x,comment:e.comment,amount:p?e.amount:0-e.amount}})).unwrap().then((()=>{a(),T((0,F.ug)())})).catch((e=>{o({success:!1,error:e}),s(!1)}))},children:e=>{let{isSubmitting:t}=e;return(0,c.jsxs)(V.lV,{children:[(0,c.jsx)("h2",{className:te.formTitle,children:"Edit transaction"}),(0,c.jsxs)("div",{className:te.switcheWrapper,children:[(0,c.jsx)("span",{className:`${p?te.income:null}`,children:"Income"}),(0,c.jsx)("span",{className:te.delimeter,children:"/"}),(0,c.jsx)("span",{className:`${p?null:te.expense}`,children:"Expense"})]}),(0,c.jsxs)("div",{className:te.inputWrapper,children:[!p&&(0,c.jsxs)("div",{className:`${te.inputField} ${te.category}`,children:["Category: ",(0,c.jsx)("span",{children:(0,d.tA)(_)})]}),(0,c.jsxs)("div",{className:`${te.inputField} ${te.amount}`,children:[(0,c.jsx)(V.D0,{type:"number",name:"amount",min:"1",placeholder:"0.00"}),(0,c.jsx)(V.Kw,{name:"amount",component:"p"})]}),(0,c.jsxs)("div",{className:`${te.inputField} ${te.date}`,children:[(0,c.jsx)(Z(),{dateFormat:"dd.MM.yyyy",selected:x,onChange:e=>h(e),calendarStartDay:1}),(0,c.jsx)(G.wIk,{className:te.icon})]}),(0,c.jsxs)("div",{className:`${te.inputField} ${te.comment}`,children:[(0,c.jsx)(V.D0,{type:"text",name:"comment",placeholder:"Comment"}),(0,c.jsx)(V.Kw,{name:"comment",component:"p"})]})]}),(0,c.jsxs)("div",{className:te.buttonsWrapper,children:[(0,c.jsx)(M.A,{type:"submit",text:"save",variant:"multiColorButtton",isDisabled:t}),(0,c.jsx)(M.A,{type:"button",text:"cancel",variant:"whiteButtton",handlerFunction:()=>a()})]})]})}})]})},se=e=>{let{closeModal:a}=e;(0,s.useEffect)((()=>{document.body.style.overflow="hidden";const e=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",e),()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",e)}}));return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:ae,onClick:e=>{e.target===e.currentTarget&&a()},children:(0,c.jsx)(ne,{closeModal:a})})})};var oe=t(1715);const re=()=>{const e=(0,m.wA)();(0,s.useEffect)((()=>{e((0,v.pF)())}),[e]);const a=(0,m.d4)(w.RM),[t,n]=(0,s.useState)(!1),[o,r]=(0,s.useState)(!1),[l,d]=(0,s.useState)(!1),u=(0,y.Ub)({query:"(min-width: 768px)"}),[_,x]=(0,s.useState)(!0);(0,s.useEffect)((()=>{setTimeout((()=>x(!1)),1500)}),[_]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:`${N} animate__animated  animate__fadeIn animate__slow`,children:[!u&&(0,c.jsx)(oe.A,{}),0===(null===a||void 0===a?void 0:a.length)&&(0,c.jsx)("p",{className:E,children:"There are no saved transactions to be displayed. You can press the plus button in the bottom left corner to add some"}),(null===a||void 0===a?void 0:a.length)>0&&u?(0,c.jsx)(b,{data:a,openDeleteModal:()=>r(!0),openEditModal:()=>d(!0)}):(0,c.jsx)(h,{data:a,openDeleteModal:()=>r(!0),openEditModal:()=>d(!0)}),(0,c.jsx)(i,{openAddModall:()=>n(!0)})]}),(0,c.jsxs)(c.Fragment,{children:[t&&(0,C.createPortal)((0,c.jsx)(ee,{closeModal:()=>n(!1)}),document.body),o&&(0,C.createPortal)((0,c.jsx)(A,{closeModal:()=>r(!1)}),document.body),l&&(0,C.createPortal)((0,c.jsx)(se,{closeModal:()=>d(!1)}),document.body)]})]})};var ce=t(3978);const ie=()=>(0,m.d4)(ce.Ep)?(0,c.jsx)(re,{}):(0,c.jsx)(n.C5,{to:"/"})},1065:(e,a,t)=>{t.d(a,{Di:()=>l,Ef:()=>c,K5:()=>r,RM:()=>s,Tm:()=>i,aG:()=>o});var n=t(2099);const s=e=>e.transactions.items,o=e=>e.transactions.summary,r=(0,n.Mz)([e=>{var a;return null===(a=e.transactions.summary)||void 0===a?void 0:a.categoriesSummary}],(e=>null===e||void 0===e?void 0:e.filter((e=>"Income"!==e.name)))),c=e=>e.transactions.trasactionIdForDelete,i=e=>e.transactions.transactionForUpdate,l=e=>e.transactions.isLoading}}]);
//# sourceMappingURL=130.7b4567a4.chunk.js.map